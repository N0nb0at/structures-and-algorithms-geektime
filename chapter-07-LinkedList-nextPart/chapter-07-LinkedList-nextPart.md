---
title: 数据结构与算法-07-链表（下）：如何轻松写出正确的链表代码？
date: 2019/04/16 14:36:13
categories:
  - [Structures & Algorithms]
tags:
  - [Structures & Algorithms]
  - [Stack]
---

<!-- more -->

## 几个写链表代码的技巧

### 技巧一：理解指针或引用的含义

有些语言有『指针』的概念，有些语言将之称为『引用』，实际上，它们的意思都是一样的，都是存储所指对象的内存地址。

将某个变量赋值给指针，实际上就是讲这个变量的地址赋值给指针，或者反过来说，指针中存储了这个变量的内存地址，指向了这个变量，通过指针就能找到这个变量。

### 技巧二：警惕指针丢失和内存泄漏

插入结点时，一定要注意操作的顺序，要先将 x 的 next 指针指向结点 b，再把结点 a 的 next 指针指向结点 x。

同理，删除链表结点时，也一定要记得手动释放内存空间，否则，也会出现内存泄漏的问题。

### 技巧三：利用哨兵简化实现难度

指针对链表的插入、删除操作，需要对插入第一个结点和删除最后一个结点的情况进行特殊处理。这样代码实现起来就会很繁琐，不简洁，而且也容易因为考虑不足而出错。

为了解决这个问题，哨兵就要登场了。哨兵，解决的是国家之间的边界问题。同理，这里说的哨兵也是解决『边界问题』的，不直接参与业务逻辑。

如果我们引入哨兵结点，在任何时候，不管链表是不是空，head 指针都会一直指向这个哨兵结点。我们也把这种有哨兵结点的链表叫做**带头链表**。相反，没有哨兵结点的链表就叫做**不带头链表**。

### 技巧四：重点留意边界条件处理

经常用来检查链表代码是否正确的边界条件有这样几个：

- 如果链表为空时，代码能否正常工作
- 如果链表只包含一个结点时，代码能否正常工作
- 如果链表只包含两个结点时，代码能否正常工作
- 代码逻辑在处理头结点和尾结点的时候，能否正常工作

实际上，不光是写链表代码，在写任何代码的时候，也不要只是实现业务正常情况下的功能，一定要想想，在代码运行的时候，可能会遇到哪些边界情况或者异常情况。

### 技巧五：举例画图，辅助思考

对于稍微复杂的链表操作，指针一会儿指这，一会儿指那，很容易就被绕晕了，总感觉脑容量不够。你可以找一个具体的例子，把它画在纸上，释放一些脑容量，留更多的给逻辑思考，这样就会感觉到思路清晰很多。

而且，当我们写完代码之后，也可以举几个例子，画在纸上，照着代码走一遍，很容易就能发现代码中的 BUG。

### 技巧六：多写多练，没有捷径

精选了 5 个常见的链表操作，尝试自己完成：

- [ ] 单链表反转
- [ ] 链表中环的检测
- [ ] 两个有序链表合并
- [ ] 删除链表倒数第 n 个结点
- [ ] 求链表的中间结点


